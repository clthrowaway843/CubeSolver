<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CubeSolver</title>
  <script type="module" crossorigin src="/CubeSolver/assets/main-BwHJcqgi.js"></script>
  <link rel="modulepreload" crossorigin href="/CubeSolver/assets/ollHandler-BbwLFr_V.js">
  <link rel="stylesheet" crossorigin href="/CubeSolver/assets/ollHandler-BwtMmKLn.css">
</head>

<body>
    <nav>
        <ul>
            <li><a href="/CubeSolver/OLLTrainer.html">OLL Trainer</a></li>
            <!-- Add other navigation links here -->
        </ul>
    </nav>

    <div id="app">
        <div style="margin-bottom: 16px;">
            <button id="toggle-solve-mode">Switch to OLL Trainer Mode</button>
            <span id="current-solve-mode-label" style="margin-left: 8px;">Current Mode: Timed Solve</span>
        </div>
        <div id="cube-controls-container" style="display: flex; align-items: center;">
            <div id="cube"></div>
            <div class="controls">
                <input id="userMacInput" type="text" placeholder="Enter cube MAC address">

                <button id="connect">Connect</button>
                <button id="reset-state">Reset State</button>
                <button id="reset-gyro">Reset Gyro</button>
            </div>
        </div>


        <div id="ollAlgorithmContainer" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #f9f9f9;">
            <h3>OLL Algorithm</h3>
            <p id="ollAlgorithm" style="font-size: 16px; font-family: monospace;">No algorithm available</p>
            <div id="oll-twisty-container" style="width: 384px; height: 256px;"></div>
        </div>

        <div class="info">

            <label for="deviceName">Device Name</label>
            <input id="deviceName" type="text" readonly value="- n/a -">

            <label for="deviceMAC">Device MAC</label>
            <input id="deviceMAC" type="text" readonly value="- n/a -">

            <label for="hardwareName">Hardware Name</label>
            <input id="hardwareName" type="text" readonly value="- n/a -">

            <label for="hardwareVersion">Hardware Version</label>
            <input id="hardwareVersion" type="text" readonly value="- n/a -">

            <label for="softwareVersion">Software Version</label>
            <input id="softwareVersion" type="text" readonly value="- n/a -">

            <label for="productDate">Product Date</label>
            <input id="productDate" type="text" readonly value="- n/a -">

            <label for="gyroSupported">Gyro Supported</label>
            <input id="gyroSupported" type="text" readonly value="- n/a -">

            <label for="batteryLevel">Battery</label>
            <input id="batteryLevel" type="text" readonly value="- n/a -">

            <label for="skew">Clock Skew</label>
            <input id="skew" type="text" readonly value="- n/a -">

            <label for="quaternion">Quaternion</label>
            <input id="quaternion" type="text" readonly value="- n/a -">

            <label for="velocity">Angular Velocity</label>
            <input id="velocity" type="text" readonly value="- n/a -">

        </div>

        <div id="timer">0:00.000</div>

    </div>

    <div id="solve-times-container">
        <h2>Solve Times</h2>
        <table id="solve-times-table">
            <thead>
                <tr>
                    <th>Solve #</th>
                    <th>Total Time</th>
                    <th>Cross</th>
                    <th>F2L</th>
                    <th>OLL</th>
                    <th>PLL</th>
                </tr>
            </thead>
            <tbody>
                <!-- Solve times will be dynamically added here -->
            </tbody>
        </table>
    </div>


    <script>
            // Simple front-end toggle logic (update your TS as needed for full integration)
            let solveMode = "timed"; // or "oll"
            const toggleBtn = document.getElementById('toggle-solve-mode');
            const modeLabel = document.getElementById('current-solve-mode-label');
            toggleBtn.addEventListener('click', () => {
                if (solveMode === "timed") {
                    solveMode = "oll";
                    toggleBtn.textContent = "Switch to Timed Solve Mode";
                    modeLabel.textContent = "Current Mode: OLL Trainer";
                } else {
                    solveMode = "timed";
                    toggleBtn.textContent = "Switch to OLL Trainer Mode";
                    modeLabel.textContent = "Current Mode: Timed Solve";
                }
                // Optionally, call your TS/JS logic to actually switch modes in your app
                window.dispatchEvent(new CustomEvent('solveModeChanged', { detail: { mode: solveMode } }));
            });
        </script>
</body>

</html>