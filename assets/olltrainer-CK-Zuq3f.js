import{T as k,o as g,e as I}from"./ollHandler-BncGAGVE.js";const T=new k({experimentalSetupAnchor:"end",puzzle:"3x3x3"}),A=new k({experimentalSetupAnchor:"end",puzzle:"3x3x3"}),v=document.getElementById("previous-twisty");v&&v.appendChild(A);const N=document.getElementById("oll-twisty-container");N&&N.appendChild(T);const f=document.getElementById("choices"),i=document.getElementById("feedback"),p=document.getElementById("previous-twisty-container"),C=document.getElementById("algorithm-list"),h=document.getElementById("algorithm-checkboxes"),b=document.getElementById("toggle-selection"),E=document.getElementById("select-all"),w=document.getElementById("deselect-all"),L=localStorage.getItem("selectedAlgorithms");let l=L?JSON.parse(L):Object.keys(g).map(Number);function M(){h&&(h.innerHTML="",Object.entries(g).forEach(([e,t])=>{const r=`OLL ${e}`,s=document.createElement("div");s.className="checkbox-container";const d=document.createElement("input");d.type="checkbox",d.id=`alg-${e}`,d.checked=l.includes(Number(e)),d.addEventListener("change",n=>{const c=Number(e);d.checked?l.push(c):l=l.filter(a=>a!==c),localStorage.setItem("selectedAlgorithms",JSON.stringify(l)),n.stopPropagation()});const m=document.createElement("div");m.className="label-arrow-container";const o=document.createElement("label");o.htmlFor=`alg-${e}`,o.textContent=r,o.addEventListener("click",n=>n.stopPropagation());const u=document.createElement("span");u.className="arrow-icon",u.textContent=" âž¢",m.addEventListener("click",()=>{const n=s.querySelector(".twisty-container");if(n)n.style.display=n.style.display==="none"?"block":"none";else{const c=document.createElement("div");c.className="twisty-container",c.style.display="block",s.appendChild(c);const a=new k({experimentalSetupAnchor:"end",puzzle:"3x3x3"});a.alg=t,c.appendChild(a)}}),m.appendChild(o),m.appendChild(u),s.appendChild(d),s.appendChild(m),h.appendChild(s)}))}b==null||b.addEventListener("click",()=>{C&&(C.style.display=C.style.display==="none"?"block":"none")});E==null||E.addEventListener("click",()=>{l=Object.keys(g).map(Number),M()});w==null||w.addEventListener("click",()=>{l=[];const e=h==null?void 0:h.querySelectorAll('input[type="checkbox"]');e==null||e.forEach(t=>{t.checked=!1}),localStorage.removeItem("selectedAlgorithms")});M();p&&(p.style.display="none");function B(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}}S();function S(){if(!i||!f)return;if(l.length===0){i.textContent="No algorithms selected. Please select at least one.",i.className="feedback incorrect";return}const e=l[Math.floor(Math.random()*l.length)],t=g[e],r=I[e],s=[];for(;s.length<3;){const o=l[Math.floor(Math.random()*l.length)];o!==e&&s.push({index:o,algorithm:g[o]})}const d=[{index:e,algorithm:t},...s];B(d),T.alg=t;const m=["A","B","C","D"];f.innerHTML="",d.forEach((o,u)=>{const n=document.createElement("div");n.className="option-container";const c=document.createElement("span");c.className="option-label",c.textContent=`${m[u]}:`;const a=document.createElement("button");a.className="option-button",a.textContent=o.algorithm,a.addEventListener("click",()=>$(o.algorithm,t,r));const x=I[o.index];if(x){const y=document.createElement("span");y.className="reminder-text",y.textContent=`(${x})`,n.appendChild(c),n.appendChild(a),n.appendChild(y)}else n.appendChild(c),n.appendChild(a);f.appendChild(n)})}function $(e,t,r){i&&(e===t?(i.textContent="Correct!",i.className="feedback correct",p&&(p.style.display="none"),setTimeout(()=>{i.textContent=""},1e3)):(r?i.innerHTML=`Incorrect.The correct answer was: <br><strong>${t} <br>(${r})</strong>`:i.innerHTML=`Incorrect.The correct answer was: <br><strong>${t}</strong>`,i.className="feedback incorrect",A.alg=t,p&&(p.style.display="block")),S())}
